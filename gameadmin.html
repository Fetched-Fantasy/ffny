<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Game Admin - Fablous</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="gameadmin.css">
</head>
<body>
  <div class="admin-header">
    <div>
      <h1>Game Admin</h1>
      <div class="muted">Lists registered users and worlds stored in localStorage (ffny.users, ffny.worlds)</div>
    </div>
    <div style="display:flex;gap:8px;align-items:center">
      <a class="small" href="interaction.html">Back to Game</a>
      <button id="exportAll" class="small primary">Export All JSON</button>
      <button id="clearAll" class="small danger">Clear All (Users + Worlds)</button>
    </div>
  </div>

  <div class="panel" id="usersPanel">
    <h2>Registered Users</h2>
    <div class="muted">Passwords are stored only as hashes (client-side). This admin tool manipulates browser localStorage for testing.</div>
    <div style="overflow:auto;margin-top:10px;">
      <table id="usersTable">
        <thead>
          <tr><th>Username</th><th>Email</th><th>Created</th><th>Actions</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <div style="margin-top:8px">
      <button id="exportUsers" class="small">Export Users</button>
    </div>
  </div>

  <div class="panel" id="worldsPanel">
    <h2>Worlds</h2>
    <div class="muted">Worlds are read from <code>ffny.worlds</code> (an array of world objects)</div>
    <div style="overflow:auto;margin-top:10px;">
      <table id="worldsTable">
        <thead>
          <tr><th>Name</th><th>Author</th><th>Published</th><th>Visits</th><th>Last Visited</th><th>Actions</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <div style="margin-top:8px">
      <button id="exportWorlds" class="small">Export Worlds</button>
    </div>
  </div>

  <script src="gameadmin.js"></script>
</body>
</html>